<div class="container overflow-hidden mt-5">
    <h1>Blog Articles:</h1>
    <table class="table table-dark table-striped table-hover rounded">
        <thead>
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col" colspan="3">Actions</th>
            </tr>
        </thead>
        <tbody>
            <% @articles.each do |article| %>
                <tr>
                    <td><%= article.title %></td>
                    <td><%= article.description %></td>
                    <td><%= link_to 'Show', article_path(article), :class => "btn btn-outline-info" %></td>
                    <td><%= link_to 'Edit', edit_article_path(article), :class => "btn btn-outline-warning" %></td>
                    
                    <%# here the article i'm iterating over is passed in, 
                    and rails is smart enough to know I need the id. Thanks rails.
                    
                    In Rails 7 the rails-ujs library was dropped and replaced with
                    turbo-rails. So now the link_to destroy always slaps in a GET
                    request no matter the specified method. 
                    
                    but i'm using rails 6? what is happening here?
                    confirmation also isn't working
                    
                    So instead of link_to we will use button_to for now
                    But I wouldn't usually mix link and buttons cuz ugly %>
                    
                    <td>
                        <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#warnModal">
                          Delete
                        </button>
                        <!-- Modal should probably go into a partial at some point-->
                        <div class="modal fade" id="warnModal" tabindex="-1" aria-hidden="true">
                          <div class="modal-dialog">
                            <div class="modal-content">
                              <div class="modal-header bg-opacity-75 bg-dark">
                                <h3 class="fw-bolder text-center text-danger">Warning!</h3>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancel"></button>
                              </div>
                              <div class="modal-body">
                                <p class="text-dark">This action cannot be undone.</p>
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <%= button_to 'Destroy', article_path(article), method: :delete, :class =>"btn btn-danger" %>
                              </div>
                            </div>
                          </div>
                        </div>
                    </td>
                    <%# After styling with bootstrap the ugliness of using button_to was fixed %>
                </tr>
            <% end %>
        </tbody>
    </table>
    <p><%= link_to 'Create New Article', new_article_path, :class => "btn btn-success" %></p>
</div>